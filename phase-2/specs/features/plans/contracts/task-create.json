{
  "endpoint": "POST /api/tasks",
  "description": "Create a new task for the authenticated user",
  "authentication": "Required (JWT)",
  "request": {
    "headers": {
      "Authorization": "Bearer <JWT_TOKEN>",
      "Content-Type": "application/json"
    },
    "body": {
      "title": {
        "type": "string",
        "required": true,
        "min_length": 1,
        "max_length": 200,
        "description": "Task title"
      },
      "description": {
        "type": "string | null",
        "required": false,
        "max_length": 2000,
        "description": "Task description (optional)"
      },
      "status": {
        "type": "enum",
        "required": false,
        "values": ["pending", "in_progress", "completed"],
        "default": "pending",
        "description": "Task status"
      }
    },
    "example": {
      "title": "Buy groceries",
      "description": "Milk, eggs, bread",
      "status": "pending"
    }
  },
  "responses": {
    "201": {
      "description": "Task created successfully",
      "body": {
        "id": {"type": "integer", "description": "Task ID"},
        "title": {"type": "string", "description": "Task title"},
        "description": {"type": "string | null", "description": "Task description"},
        "status": {"type": "enum", "values": ["pending", "in_progress", "completed"]},
        "user_id": {"type": "integer", "description": "Owner user ID (from JWT)"},
        "created_at": {"type": "string", "format": "ISO 8601 datetime"},
        "updated_at": {"type": "string", "format": "ISO 8601 datetime"}
      },
      "example": {
        "id": 123,
        "title": "Buy groceries",
        "description": "Milk, eggs, bread",
        "status": "pending",
        "user_id": 456,
        "created_at": "2025-12-30T10:00:00Z",
        "updated_at": "2025-12-30T10:00:00Z"
      }
    },
    "401": {
      "description": "Unauthorized - Missing or invalid JWT token",
      "body": {"detail": "Unauthorized"},
      "example": {"detail": "Unauthorized"}
    },
    "422": {
      "description": "Validation Error - Invalid request data",
      "body": {
        "detail": [
          {
            "loc": ["body", "title"],
            "msg": "field required",
            "type": "value_error.missing"
          }
        ]
      },
      "example": {
        "detail": [
          {"loc": ["body", "title"], "msg": "ensure this value has at most 200 characters", "type": "value_error.any_str.max_length"}
        ]
      }
    }
  },
  "business_logic": [
    "Extract user_id from JWT token (never from request body)",
    "Validate request body with Pydantic",
    "Auto-assign user_id from JWT",
    "Set created_at and updated_at to current timestamp",
    "Insert task into database",
    "Return created task with 201 status"
  ],
  "user_isolation": "user_id is automatically set from authenticated JWT token"
}
